# EXPRESS QUOTE - Configuration Template
# Copiez ce fichier vers .env.local et remplissez vos vraies valeurs
# Documentation: Toutes les variables nÃ©cessaires au fonctionnement complet

# =============================================================================
# API KEYS - Services externes
# =============================================================================
GOOGLE_MAPS_API_KEY=your-google-maps-api-key
TOOLGURU_API_KEY=your-toolguru-api-key

# =============================================================================
# SUPABASE CONFIGURATION - Base de donnÃ©es et authentification
# =============================================================================
SUPABASE_URL=https://your-project.supabase.co
SUPABASE_KEY=your-supabase-anon-key
SUPABASE_SERVICE_KEY=your-supabase-service-role-key

# =============================================================================
# DATABASE CONFIGURATION - URLs Prisma
# Documentation: https://pris.ly/d/connection-strings
# =============================================================================
DATABASE_URL="postgresql://user:password@host:port/database?connect_timeout=60&pool_timeout=60&sslmode=require"
DIRECT_URL="postgresql://user:password@host:port/database?connect_timeout=60&sslmode=require"

# =============================================================================
# STRIPE PAYMENT CONFIGURATION - Paiements
# Documentation: https://stripe.com/docs/keys
# =============================================================================
STRIPE_SECRET_KEY="sk_test_your_stripe_secret_key"
NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY="pk_test_your_stripe_publishable_key"
STRIPE_WEBHOOK_SECRET="whsec_your_stripe_webhook_secret"

# =============================================================================
# EMAIL CONFIGURATION - Notifications par email
# =============================================================================
EMAIL_HOST="smtp.example.com"
EMAIL_PORT="587"
EMAIL_USER="your-email@example.com"
EMAIL_PASSWORD="your-smtp-password"
EMAIL_FROM="Express Quote <noreply@your-domain.com>"

# =============================================================================
# ğŸ”” NOUVEAU SYSTÃˆME DE NOTIFICATION v2.0 - Configuration ComplÃ¨te
# =============================================================================

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# ğŸ”„ REDIS & QUEUE CONFIGURATION - Infrastructure BullMQ
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
#
# UtilitÃ©: Configuration Redis pour les queues de notifications BullMQ
# 
# REDIS_URL: Connexion au serveur Redis (local ou cloud)
# - Local: redis://localhost:6379
# - Cloud: redis://user:password@host:port/database
#
# REDIS_PASSWORD: Mot de passe Redis (vide pour dÃ©veloppement local)
# REDIS_DB: NumÃ©ro de base Redis (0-15, dÃ©faut: 0)
# REDIS_MAX_RETRIES: Tentatives de reconnexion automatique
# REDIS_CONNECT_TIMEOUT: Timeout de connexion en millisecondes
#
REDIS_URL="redis://localhost:6379"
REDIS_PASSWORD=""
REDIS_DB="0"
REDIS_MAX_RETRIES="3"
REDIS_CONNECT_TIMEOUT="10000"

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# ğŸ“§ SMTP CONFIGURATION AVANCÃ‰E - SystÃ¨me d'email moderne
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
#
# Configuration SMTP pour le nouveau systÃ¨me de notification
# Compatible avec Gmail, Outlook, services dÃ©diÃ©s (Brevo, etc.)
#
# SMTP_HOST: Serveur SMTP
# - Gmail: smtp.gmail.com
# - Outlook: smtp-mail.outlook.com  
# - Brevo: smtp-relay.sendinblue.com
#
# SMTP_PORT: Port de connexion
# - 25: Non sÃ©curisÃ© (Ã©viter)
# - 465: SSL/TLS (sÃ©curisÃ©)  
# - 587: STARTTLS (recommandÃ©)
# - 2525: Alternative STARTTLS
#
# SMTP_USER: Identifiant de connexion (souvent = email)
# SMTP_PASSWORD: Mot de passe ou App Password
# EMAIL_FROM: Adresse d'expÃ©dition avec nom affichÃ©
#
SMTP_HOST="smtp.gmail.com"
SMTP_PORT="587"
SMTP_USER="your-email@gmail.com"
SMTP_PASSWORD="your-app-password"
SMTP_SECURE="false"
EMAIL_FROM="Express Quote <noreply@express-quote.com>"
EMAIL_REPLY_TO="support@express-quote.com"

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# ğŸ“± WHATSAPP BUSINESS API - Configuration Meta
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
#
# UtilitÃ©: IntÃ©gration WhatsApp Business pour notifications multi-canal
#
# WHATSAPP_API_URL: URL de base API Meta Graph
# WHATSAPP_ACCESS_TOKEN: Token d'accÃ¨s permanent
# WHATSAPP_PHONE_NUMBER_ID: ID du numÃ©ro de tÃ©lÃ©phone business
# WHATSAPP_WEBHOOK_VERIFY_TOKEN: Token de vÃ©rification webhook
#
# Documentation: https://developers.facebook.com/docs/whatsapp/cloud-api
#
WHATSAPP_API_URL="https://graph.facebook.com/v17.0"
WHATSAPP_ACCESS_TOKEN="your-whatsapp-permanent-token"
WHATSAPP_PHONE_NUMBER_ID="your-phone-number-id"
WHATSAPP_WEBHOOK_VERIFY_TOKEN="your-webhook-verify-token"

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# ğŸ“Š MONITORING & OBSERVABILITÃ‰ - Prometheus & Grafana
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
#
# Configuration pour monitoring du systÃ¨me de notification
#
# PROMETHEUS_PORT: Port d'accÃ¨s Prometheus (dÃ©faut: 9090)
# GRAFANA_PORT: Port d'accÃ¨s Grafana (dÃ©faut: 3001, Ã©vite conflit Next.js)
# LOG_LEVEL: Niveau de log Pino (trace, debug, info, warn, error, fatal)
# LOG_FILE_PATH: Chemin des fichiers de log
# METRICS_ENABLED: Activation collecte mÃ©triques Prometheus
#
PROMETHEUS_PORT="9090"
GRAFANA_PORT="3001" 
LOG_LEVEL="info"
LOG_FILE_PATH="./logs/notifications.log"
METRICS_ENABLED="true"

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# âš™ï¸ CONFIGURATION SYSTÃˆME DE NOTIFICATION
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
#
# QUEUE_CONCURRENCY: Nombre de workers par queue (email, whatsapp, sms)
# MAX_RETRY_ATTEMPTS: Tentatives maximum avant Dead Letter Queue
# RETRY_DELAY_MS: DÃ©lai de base entre tentatives (backoff exponentiel)
# QUEUE_REMOVE_ON_COMPLETE: Garder l'historique des jobs rÃ©ussis
# QUEUE_REMOVE_ON_FAIL: Garder l'historique des jobs Ã©chouÃ©s
#
QUEUE_CONCURRENCY="5"
MAX_RETRY_ATTEMPTS="3"
RETRY_DELAY_MS="1000"
QUEUE_REMOVE_ON_COMPLETE="100"
QUEUE_REMOVE_ON_FAIL="50"

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# ğŸ›¡ï¸ CIRCUIT BREAKER - Configuration rÃ©silience
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
#
# CIRCUIT_BREAKER_TIMEOUT: Timeout requÃªtes services externes (ms)
# CIRCUIT_BREAKER_ERROR_THRESHOLD: Seuil d'erreurs avant ouverture
# CIRCUIT_BREAKER_RESET_TIMEOUT: Temps avant test de rÃ©cupÃ©ration (ms)
# ENABLE_CIRCUIT_BREAKER: Activation circuit breakers
#
CIRCUIT_BREAKER_TIMEOUT="5000"
CIRCUIT_BREAKER_ERROR_THRESHOLD="5"
CIRCUIT_BREAKER_RESET_TIMEOUT="30000"
ENABLE_CIRCUIT_BREAKER="true"

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# ğŸš€ FEATURE FLAGS - Activation fonctionnalitÃ©s
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
#
# Switches pour activation progressive du nouveau systÃ¨me
#
# ENABLE_NEW_NOTIFICATION_SYSTEM: Master switch systÃ¨me v2.0
# ENABLE_EMAIL_NOTIFICATIONS: Activation canal email
# ENABLE_WHATSAPP_NOTIFICATIONS: Activation canal WhatsApp
# ENABLE_SMS_NOTIFICATIONS: Activation canal SMS (futur)
# ENABLE_REACT_EMAIL_TEMPLATES: Templates React Email vs anciens
# ENABLE_NOTIFICATION_ANALYTICS: MÃ©triques business avancÃ©es
#
ENABLE_NEW_NOTIFICATION_SYSTEM="true"
ENABLE_EMAIL_NOTIFICATIONS="true"
ENABLE_WHATSAPP_NOTIFICATIONS="true"
ENABLE_SMS_NOTIFICATIONS="false"
ENABLE_REACT_EMAIL_TEMPLATES="true"
ENABLE_NOTIFICATION_ANALYTICS="true"

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# ğŸ¯ TEMPLATES & CONTENU - Configuration templates
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
#
# TEMPLATE_CACHE_TTL: DurÃ©e de vie cache templates (secondes)
# TEMPLATE_FALLBACK_LANGUAGE: Langue par dÃ©faut si dÃ©tection Ã©choue
# BRAND_NAME: Nom de l'entreprise dans les templates
# BRAND_COLOR: Couleur principale templates (#hexa)
# SUPPORT_EMAIL: Email support clients
# SUPPORT_PHONE: TÃ©lÃ©phone support clients
#
TEMPLATE_CACHE_TTL="3600"
TEMPLATE_FALLBACK_LANGUAGE="fr"
BRAND_NAME="Express Quote"
BRAND_COLOR="#3B82F6"
SUPPORT_EMAIL="support@express-quote.com"
SUPPORT_PHONE="+33 1 23 45 67 89"

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# ğŸ•’ RAPPELS AUTOMATIQUES - Configuration cron
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
#
# REMINDER_CRON_SCHEDULE: Planning exÃ©cution rappels (format cron)
# REMINDER_DAYS_BEFORE: Jours avant Ã©vÃ©nement pour rappels
# REMINDER_MAX_ATTEMPTS: Tentatives maximum par rappel
# REMINDER_BATCH_SIZE: Nombre de rappels traitÃ©s par lot
#
REMINDER_CRON_SCHEDULE="0 9 * * *"
REMINDER_DAYS_BEFORE="7,3,1"
REMINDER_MAX_ATTEMPTS="2"
REMINDER_BATCH_SIZE="100"

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# ğŸ“ˆ RATE LIMITING - Protection contre surcharge
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
#
# RATE_LIMIT_WINDOW_MS: FenÃªtre de temps pour comptage (ms)
# RATE_LIMIT_MAX_EMAIL: Maximum emails par fenÃªtre
# RATE_LIMIT_MAX_WHATSAPP: Maximum messages WhatsApp par fenÃªtre
# RATE_LIMIT_MAX_API_CALLS: Maximum appels API notification par fenÃªtre
#
RATE_LIMIT_WINDOW_MS="60000"
RATE_LIMIT_MAX_EMAIL="100"
RATE_LIMIT_MAX_WHATSAPP="50"
RATE_LIMIT_MAX_API_CALLS="1000"

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# ğŸ”’ SÃ‰CURITÃ‰ - Tokens et authentification
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
#
# NOTIFICATION_API_SECRET: Secret pour authentification API interne
# WEBHOOK_SIGNATURE_SECRET: Secret pour validation signatures webhooks
# ENCRYPTION_KEY: ClÃ© de chiffrement donnÃ©es sensibles (32 chars)
#
NOTIFICATION_API_SECRET="your-notification-api-secret-key"
WEBHOOK_SIGNATURE_SECRET="your-webhook-signature-secret"
ENCRYPTION_KEY="your-32-character-encryption-key12"

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# ğŸŒ ENVIRONNEMENT - Configuration dÃ©ploiement
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
#
# NODE_ENV: Environnement d'exÃ©cution (development, production, test)
# NOTIFICATION_ENV: Environnement spÃ©cifique notifications
# DEBUG_NOTIFICATIONS: Mode debug dÃ©taillÃ© (true/false)
# HEALTH_CHECK_INTERVAL: Intervalle health checks (ms)
#
NODE_ENV="development"
NOTIFICATION_ENV="development"
DEBUG_NOTIFICATIONS="true"
HEALTH_CHECK_INTERVAL="30000"

# =============================================================================
# DOCUMENT STORAGE - Gestion des fichiers
# =============================================================================
DOCUMENT_STORAGE_PATH="./storage/documents"
MAX_DOCUMENT_SIZE_MB="10"

# =============================================================================
# APPLICATION SETTINGS - Configuration gÃ©nÃ©rale
# =============================================================================
APP_URL="http://localhost:3000"
NEXT_PUBLIC_BASE_URL="http://localhost:3000"
SITE_NAME="Express Quote"

# =============================================================================
# LOGGING CONFIGURATION - Gestion des logs
# =============================================================================
LOG_LEVEL="info"
ENABLE_EMAIL_LOGS="true"
ENABLE_PAYMENT_LOGS="true"

# =============================================================================
# SECURITY SETTINGS - ClÃ©s de sÃ©curitÃ©
# GÃ©nÃ©rer une clÃ© secrÃ¨te: openssl rand -base64 32
# =============================================================================
SIGNATURE_SECRET="your-secret-key-here"