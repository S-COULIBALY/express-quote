# EXPRESS QUOTE - Configuration Locale Template
# Ce fichier montre la structure recommandée pour .env.local
# Copiez ce fichier vers .env.local et ajoutez vos vraies clés/valeurs

# =============================================================================
# DÉVELOPPEMENT LOCAL - Configuration personnelle
# Ce fichier a la priorité maximale et n'est pas commité dans Git
# =============================================================================

# =============================================================================
# API KEYS - Services externes
# =============================================================================
GOOGLE_MAPS_API_KEY=your-google-maps-api-key
NEXT_PUBLIC_GOOGLE_MAPS_API_KEY=your-google-maps-api-key
TOOLGURU_API_KEY=your-toolguru-api-key

# =============================================================================
# SUPABASE CONFIGURATION - Base de données cloud
# =============================================================================
SUPABASE_URL=https://your-project.supabase.co
SUPABASE_KEY=your-supabase-anon-key
SUPABASE_SERVICE_KEY=your-supabase-service-role-key

# =============================================================================
# DATABASE CONFIGURATION - Optimisée pour développement local
# =============================================================================
DATABASE_URL="postgresql://user:password@host:port/database?connect_timeout=60&pool_timeout=60&sslmode=require"
DIRECT_URL="postgresql://user:password@host:port/database?connect_timeout=60&sslmode=require"

# =============================================================================
# STRIPE CONFIGURATION - Mode test pour développement
# =============================================================================
# NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY est le nom utilisé par la page booking (page.tsx)
NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY="pk_test_your_stripe_publishable_key"
STRIPE_SECRET_KEY="sk_test_your_stripe_secret_key"
STRIPE_WEBHOOK_SECRET="whsec_your_stripe_webhook_secret"

# =============================================================================
# EMAIL CONFIGURATION - SMTP pour notifications
# =============================================================================
EMAIL_HOST="smtp.example.com"
EMAIL_PORT="587"
EMAIL_USER="your-email@example.com"
EMAIL_PASSWORD="your-smtp-password"
EMAIL_FROM="Express Quote <noreply@your-domain.com>"

# =============================================================================
# DOCUMENT STORAGE - Stockage local des fichiers
# =============================================================================
DOCUMENT_STORAGE_PATH="./storage/documents"
MAX_DOCUMENT_SIZE_MB="10"

# =============================================================================
# APPLICATION SETTINGS - Configuration locale
# =============================================================================
APP_URL="http://localhost:3000"
NEXT_PUBLIC_BASE_URL="http://localhost:3000"
NEXT_PUBLIC_APP_URL="http://localhost:3000"
SITE_NAME="Express Quote"

# =============================================================================
# LOGGING - Niveau de logs pour développement
# =============================================================================
LOG_LEVEL="debug"
ENABLE_EMAIL_LOGS="true"
ENABLE_PAYMENT_LOGS="true"

# =============================================================================
# SECURITY - Clé secrète personnelle
# Générer: openssl rand -base64 32
# =============================================================================
SIGNATURE_SECRET="your-personal-secret-key-here"
# Clé HMAC pour signer les prix calculés (sécurisation prix scénario)
PRICE_SIGNATURE_SECRET="your-price-signature-secret-here"
# Secret pour les tokens d'attribution professionnel (accept/refuse links)
ATTRIBUTION_SECRET="your-attribution-secret-here"

# =============================================================================
# ADMIN CREDENTIALS - Authentification admin
# Générer un hash bcrypt: node -e "require('bcryptjs').hash('votre-mdp', 12).then(console.log)"
# =============================================================================
ADMIN_EMAIL="admin@express-quote.com"
ADMIN_PASSWORD_HASH="$2b$12$VOTRE_HASH_BCRYPT_ICI"

# =============================================================================
# 🔔 NOUVEAU SYSTÈME DE NOTIFICATION v2.0 - Configuration Développement
# =============================================================================

# ═════════════════════════════════════════════════════════════════════════════
# 🔄 REDIS & QUEUE CONFIGURATION - Infrastructure BullMQ
# ═════════════════════════════════════════════════════════════════════════════
REDIS_URL="redis://localhost:6379"
REDIS_PASSWORD=""
REDIS_DB="0"
REDIS_MAX_RETRIES="3"
REDIS_CONNECT_TIMEOUT="10000"

# ═════════════════════════════════════════════════════════════════════════════
# 📧 SMTP CONFIGURATION AVANCÉE - Système d'email moderne
# ═════════════════════════════════════════════════════════════════════════════
SMTP_HOST="smtp.gmail.com"
SMTP_PORT="587"
SMTP_USER="your-email@gmail.com"
SMTP_PASSWORD="your-app-password"
SMTP_PASS="your-app-password"
SMTP_SECURE="false"
SMTP_FROM="your-email@gmail.com"
SMTP_REPLY_TO="your-email@gmail.com"
EMAIL_FROM="Express Quote Dev <your-email@gmail.com>"
EMAIL_REPLY_TO="your-email@gmail.com"

# ═════════════════════════════════════════════════════════════════════════════
# 🚀 FEATURE FLAGS - Activation fonctionnalités
# ═════════════════════════════════════════════════════════════════════════════
ENABLE_NEW_NOTIFICATION_SYSTEM="true"
ENABLE_EMAIL_NOTIFICATIONS="true"
ENABLE_WHATSAPP_NOTIFICATIONS="false"
ENABLE_SMS_NOTIFICATIONS="false"
ENABLE_REACT_EMAIL_TEMPLATES="true"
ENABLE_NOTIFICATION_ANALYTICS="true"

# ═════════════════════════════════════════════════════════════════════════════
# ⚙️ CONFIGURATION SYSTÈME DE NOTIFICATION
# ═════════════════════════════════════════════════════════════════════════════
QUEUE_CONCURRENCY="3"
MAX_RETRY_ATTEMPTS="3"
RETRY_DELAY_MS="1000"
QUEUE_REMOVE_ON_COMPLETE="50"
QUEUE_REMOVE_ON_FAIL="25"

# ═════════════════════════════════════════════════════════════════════════════
# 🛡️ CIRCUIT BREAKER - Configuration résilience
# ═════════════════════════════════════════════════════════════════════════════
CIRCUIT_BREAKER_TIMEOUT="5000"
CIRCUIT_BREAKER_ERROR_THRESHOLD="5"
CIRCUIT_BREAKER_RESET_TIMEOUT="30000"
ENABLE_CIRCUIT_BREAKER="true"

# ═════════════════════════════════════════════════════════════════════════════
# 🎯 TEMPLATES & CONTENU - Configuration templates
# ═════════════════════════════════════════════════════════════════════════════
TEMPLATE_CACHE_TTL="1800"
TEMPLATE_FALLBACK_LANGUAGE="fr"
BRAND_NAME="Express Quote"
BRAND_COLOR="#3B82F6"
SUPPORT_EMAIL="support@localhost"
SUPPORT_PHONE="+33 1 23 45 67 89"

# ═════════════════════════════════════════════════════════════════════════════
# 🕒 RAPPELS AUTOMATIQUES - Configuration cron
# ═════════════════════════════════════════════════════════════════════════════
REMINDER_CRON_SCHEDULE="0 9 * * *"
REMINDER_DAYS_BEFORE="7,3,1"
REMINDER_MAX_ATTEMPTS="2"
REMINDER_BATCH_SIZE="50"

# ═════════════════════════════════════════════════════════════════════════════
# 📈 RATE LIMITING - Protection contre surcharge
# ═════════════════════════════════════════════════════════════════════════════
RATE_LIMIT_WINDOW_MS="60000"
RATE_LIMIT_MAX_EMAIL="50"
RATE_LIMIT_MAX_WHATSAPP="25"
RATE_LIMIT_MAX_API_CALLS="500"

# ═════════════════════════════════════════════════════════════════════════════
# 🔒 SÉCURITÉ - Tokens et authentification
# ═════════════════════════════════════════════════════════════════════════════
NOTIFICATION_API_SECRET="dev-notification-secret-key"
WEBHOOK_SIGNATURE_SECRET="dev-webhook-signature-secret"
ENCRYPTION_KEY="dev-encryption-key-32-characters!"

# ═════════════════════════════════════════════════════════════════════════════
# 🌍 ENVIRONNEMENT - Configuration développement
# ═════════════════════════════════════════════════════════════════════════════
NODE_ENV="development"
NOTIFICATION_ENV="development"
DEBUG_NOTIFICATIONS="true"
HEALTH_CHECK_INTERVAL="30000"

# ═════════════════════════════════════════════════════════════════════════════
# 📊 MONITORING & OBSERVABILITÉ - Mode développement
# ═════════════════════════════════════════════════════════════════════════════
PROMETHEUS_PORT="9090"
GRAFANA_PORT="3001"
LOG_LEVEL="debug"
LOG_FILE_PATH="./logs/notifications.log"
METRICS_ENABLED="true"
METRICS_COLLECTION_INTERVAL_MS="900000"

# =============================================================================
# DÉVELOPPEMENT SEULEMENT - Variables optionnelles
# =============================================================================
# DEBUG="express-quote:*"

# Sentry - Error Tracking
SENTRY_DSN=""
NEXT_PUBLIC_SENTRY_DSN=""

# Logging conditionnel (debug frontend)
NEXT_PUBLIC_DEBUG=true
NEXT_PUBLIC_LOG_CATEGORIES=

# Clé API Anthropic pour les agents autonomes
ANTHROPIC_API_KEY="your-anthropic-api-key-here"