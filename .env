GOOGLE_MAPS_API_KEY=AIzaSyCDFjTXdcIYzwAABbLn-S1J_RO8r9ixUVE
TOOLGURU_API_KEY=dMgjR2QHdfQjrRBM9RRJjdP8tGbqL4T6

# This was inserted by `prisma init`:
# Environment variables declared in this file are automatically made available to Prisma.
# See the documentation for more detail: https://pris.ly/d/prisma-schema#accessing-environment-variables-from-the-schema

# Prisma supports the native connection string format for PostgreSQL, MySQL, SQLite, SQL Server, MongoDB and CockroachDB.
# See the documentation for all the connection string options: https://pris.ly/d/connection-strings

# Supabase Configuration
SUPABASE_URL=https://jxunryzxijkwdanaiohs.supabase.co
SUPABASE_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imp4dW5yeXp4aWprd2RhbmFpb2hzIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDI0NDQyMzcsImV4cCI6MjA1ODAyMDIzN30.GtEPiAfHxDsCmGX-Xdb6GT4viYOU0iPBjXXo3VCa0PE
SUPABASE_SERVICE_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imp4dW5yeXp4aWprd2RhbmFpb2hzIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTc0MjQ0NDIzNywiZXhwIjoyMDU4MDIwMjM3fQ.GmLcqP8smdkuQVjZFaZ0QkMLrbAkE4nz2hZVjfJPi_Q

# Prisma Database URL (avec connection pooling pour l'application) MP: 
DATABASE_URL="postgresql://postgres:eTUqee1eujsj1nx6@db.jxunryzxijkwdanaiohs.supabase.co:5432/postgres?connect_timeout=30"

# URL directe pour les migrations et Prisma CLI
DIRECT_URL="postgresql://postgres:eTUqee1eujsj1nx6@db.jxunryzxijkwdanaiohs.supabase.co:5432/postgres?connect_timeout=30"

# Stripe API keys (vraies clés de production test)
STRIPE_PUBLIC_KEY="pk_test_51RAsKtCOry8lH7zkQ6p5gsMIIRqiIu9aLE3b1p5bimz0Z9eDsAa0Gln09NoEtQcXzFWrAypZBvMPWIPvZg0wZrO7006tVkAVKh"
STRIPE_SECRET_KEY="sk_test_51RAsKtCOry8lH7zk1Fsijojh9AzrevtwLvbKLhGGFQAVurWArNxHHbE7goqjXQsvPeOgZ2Zw8XdP9P1HkiGnaR0a00JAcEpcNx"
STRIPE_WEBHOOK_SECRET="whsec_1234567890abcdefghijklmnopqrstuvwxyz1234"

# Email configuration
EMAIL_HOST="smtp.example.com"
EMAIL_PORT="587"
EMAIL_USER="your-email@example.com"
EMAIL_PASSWORD="your-password"
EMAIL_FROM="Express Quote <noreply@express-quote.com>"

# Document storage
DOCUMENT_STORAGE_PATH="./storage/documents"
MAX_DOCUMENT_SIZE_MB="10"

# Application settings
APP_URL="http://localhost:3000"
NEXT_PUBLIC_BASE_URL="http://localhost:3000"
SITE_NAME="Express Quote"

# Logging
LOG_LEVEL="info"
ENABLE_EMAIL_LOGS="true"
ENABLE_PAYMENT_LOGS="true"

# Security settings
# Commande terminal pour générer une clé secrète : openssl rand -base64 32
SIGNATURE_SECRET="5c3ac935f4d93a6f7a55f7e775acba30d4e0f41b2ab7f1ca49e7c69e1c44075f"
NEXT_PUBLIC_STRIPE_PUBLIC_KEY="pk_test_51RAsKtCOry8lH7zkQ6p5gsMIIRqiIu9aLE3b1p5bimz0Z9eDsAa0Gln09NoEtQcXzFWrAypZBvMPWIPvZg0wZrO7006tVkAVKh"

# =============================================================================
# 🔔 NOUVEAU SYSTÈME DE NOTIFICATION v2.0 - Configuration Complète
# =============================================================================

# ═════════════════════════════════════════════════════════════════════════════
# 🔄 REDIS & QUEUE CONFIGURATION - Infrastructure BullMQ
# ═════════════════════════════════════════════════════════════════════════════
REDIS_URL="redis://localhost:6379"
REDIS_PASSWORD=""
REDIS_DB="0"
REDIS_MAX_RETRIES="3"
REDIS_CONNECT_TIMEOUT="10000"

# ═════════════════════════════════════════════════════════════════════════════
# 📧 SMTP CONFIGURATION AVANCÉE - Système d'email moderne
# ═════════════════════════════════════════════════════════════════════════════
SMTP_HOST="smtp.gmail.com"
SMTP_PORT="587"
SMTP_USER="your-email@gmail.com"
SMTP_PASSWORD="your-app-password"
SMTP_SECURE="false"
EMAIL_REPLY_TO="support@express-quote.com"

# ═════════════════════════════════════════════════════════════════════════════
# 📱 WHATSAPP BUSINESS API - Configuration Meta (DÉSACTIVÉ)
# ═════════════════════════════════════════════════════════════════════════════
# WHATSAPP_API_URL="https://graph.facebook.com/v17.0"
# WHATSAPP_ACCESS_TOKEN="your-whatsapp-permanent-token"
# WHATSAPP_PHONE_NUMBER_ID="your-phone-number-id"
# WHATSAPP_WEBHOOK_VERIFY_TOKEN="your-webhook-verify-token"

# ═════════════════════════════════════════════════════════════════════════════
# 📊 MONITORING & OBSERVABILITÉ - Prometheus & Grafana
# ═════════════════════════════════════════════════════════════════════════════
PROMETHEUS_PORT="9090"
GRAFANA_PORT="3001" 
LOG_FILE_PATH="./logs/notifications.log"
METRICS_ENABLED="true"
# Collecte des métriques système (mémoire, CPU, uptime) - 900000ms = 15 minutes
METRICS_COLLECTION_INTERVAL_MS="900000"

# ═════════════════════════════════════════════════════════════════════════════
# ⚙️ CONFIGURATION SYSTÈME DE NOTIFICATION
# ═════════════════════════════════════════════════════════════════════════════
QUEUE_CONCURRENCY="5"
MAX_RETRY_ATTEMPTS="3"
RETRY_DELAY_MS="1000"
QUEUE_REMOVE_ON_COMPLETE="100"
QUEUE_REMOVE_ON_FAIL="50"

# ═════════════════════════════════════════════════════════════════════════════
# 🛡️ CIRCUIT BREAKER - Configuration résilience
# ═════════════════════════════════════════════════════════════════════════════
CIRCUIT_BREAKER_TIMEOUT="5000"
CIRCUIT_BREAKER_ERROR_THRESHOLD="5"
CIRCUIT_BREAKER_RESET_TIMEOUT="30000"
ENABLE_CIRCUIT_BREAKER="true"

# ═════════════════════════════════════════════════════════════════════════════
# 🚀 FEATURE FLAGS - Activation fonctionnalités
# ═════════════════════════════════════════════════════════════════════════════
ENABLE_NEW_NOTIFICATION_SYSTEM="true"
ENABLE_EMAIL_NOTIFICATIONS="true"
ENABLE_WHATSAPP_NOTIFICATIONS="false"
ENABLE_SMS_NOTIFICATIONS="false"
ENABLE_REACT_EMAIL_TEMPLATES="true"
ENABLE_NOTIFICATION_ANALYTICS="true"

# ═════════════════════════════════════════════════════════════════════════════
# 🎯 TEMPLATES & CONTENU - Configuration templates
# ═════════════════════════════════════════════════════════════════════════════
TEMPLATE_CACHE_TTL="3600"
TEMPLATE_FALLBACK_LANGUAGE="fr"
BRAND_NAME="Express Quote"
BRAND_COLOR="#3B82F6"
SUPPORT_EMAIL="support@express-quote.com"
SUPPORT_PHONE="+33 1 23 45 67 89"

# ═════════════════════════════════════════════════════════════════════════════
# 🕒 RAPPELS AUTOMATIQUES - Configuration cron
# ═════════════════════════════════════════════════════════════════════════════
REMINDER_CRON_SCHEDULE="0 9 * * *"
REMINDER_DAYS_BEFORE="7,3,1"
REMINDER_MAX_ATTEMPTS="2"
REMINDER_BATCH_SIZE="100"

# ═════════════════════════════════════════════════════════════════════════════
# 📈 RATE LIMITING - Protection contre surcharge
# ═════════════════════════════════════════════════════════════════════════════
RATE_LIMIT_WINDOW_MS="60000"
RATE_LIMIT_MAX_EMAIL="100"
RATE_LIMIT_MAX_WHATSAPP="50"
RATE_LIMIT_MAX_API_CALLS="1000"

# ═════════════════════════════════════════════════════════════════════════════
# 🔒 SÉCURITÉ - Tokens et authentification
# ═════════════════════════════════════════════════════════════════════════════
NOTIFICATION_API_SECRET="prod-notification-secret-key-change-me"
WEBHOOK_SIGNATURE_SECRET="prod-webhook-signature-secret-change-me"
ENCRYPTION_KEY="prod-32-character-encryption-key12"

# ═════════════════════════════════════════════════════════════════════════════
# 🌍 ENVIRONNEMENT - Configuration déploiement
# ═════════════════════════════════════════════════════════════════════════════
NODE_ENV="production"
NOTIFICATION_ENV="production"
DEBUG_NOTIFICATIONS="false"
HEALTH_CHECK_INTERVAL="30000"
